!function(a,b){b["true"]=a,define("ember-insights",["runtime","middleware","exports"],function(a,b,c){"use strict";var d=a["default"],e=b["default"],f=function(){var a={isActivated:!1,configs:{},settings:null};return e.use(a),d(a)}();c["default"]=f}),define("handler-timing",["exports"],function(a){"use strict";a["default"]={factory:function(){var a=function(a){var b=window.performance.getEntriesByName(a),c=b[b.length-1];Ember.debug("New measure available:"),Ember.debug(JSON.stringify(c))};return a}}}),define("handler",["exports"],function(a){"use strict";function b(a,b,c){switch(c.trackTransitionsAs){case"event":b.sendEvent("transition",JSON.stringify({from:a.oldRouteName,to:a.routeName}));break;case"pageview":b.trackPageView(a.url)}}function c(a,b,c){c=c||{};var d=["action",a.actionName],e=a.actionArguments[0],f=a.actionArguments[1];null!=e&&(d[2]=e,null!=f&&(d[3]=f)),b.sendEvent.apply(b,d)}a["default"]={factory:function(a){var d=function(d,e,f){"transition"===d&&b(e,f,a),"action"===d&&c(e,f,a)};return d},transitionHandler:b,actionHandler:c}}),define("matcher",["exports"],function(a){"use strict";function b(a,b,d,e){var g=b.replace(".index",""),h="ALL_"+d.toUpperCase()+"S",i=a.insights.getWithDefault(h,!1);if(f(i,d,e,g))return h;for(var j=c(d,b,g,e),k=0,l=j.length;l>k;k++){var m=j[k][0],n=j[k][1];if(a.insights.getWithDefault(m,[]).indexOf(n)>-1)return m}return!1}function c(a,b,c,d){return"transition"===a?[["TRANSITIONS",b],["TRANSITIONS",c],["MAP."+b+".ACTIONS","TRANSITION"],["MAP."+c+".ACTIONS","TRANSITION"]]:"action"===a?[["ACTIONS",d],["MAP."+b+".ACTIONS",d],["MAP."+c+".ACTIONS",d]]:void 0}function d(a,c,d,f){for(var g=[],h=0,i=a.length;i>h;h++){var j=a[h],k=b(j,c,d,f);e(k,j,g)}return g}function e(a,b,c){a&&c.push({group:b,keyMatched:a})}function f(a,b,c,d){if(a===!0)return!0;if("object"==typeof a&&a.except){var e=a.except,f=[c];if("transition"===b&&d!==c&&f.push(d),0===Ember.EnumerableUtils.intersection(f,e).length)return!0}return!1}function g(a,b,c,d){for(var e=0,f=a.length;f>e;e++){var g=a[e].group,h=a[e].keyMatched;b.debug&&Ember.debug("TRAP: ---- MATCHED key '"+h+"' in group '"+g.name+"'"),"transition"===c&&b.updateDocumentLocationOnTransitions&&g.tracker.set("location",document.URL),g.handler(c,d,g.tracker)}}function h(a,b,c){if(!window.performance||!window.performance.mark)return void Ember.warn("Your browser doesn't support User Timing API!");var d=b.substr(0,1)+":"+c;window.performance.mark(d);var e;a.timingsConfig&&(e=a.timingsConfig[d]),e&&e.forEach(function(a){for(var b=0,c=a.prevPoints.length;c>b;b++){var e=a.prevPoints[b],f=window.performance.getEntriesByName(e);if(f.length){var g=e+".."+d;window.performance.measure(g,e,d);var h=a.chainTitle?{chainTitle:a.chainTitle}:{};a.timingHandler(g,a.tracker,h);break}}})}a.getMatchedGroups=d,a.processMatchedGroups=g,a.processTiming=h,a.pushToResult=e,a.getSearchingPaths=c,a.checkInAll=f}),define("middleware",["matcher","exports"],function(a,b){"use strict";var c=a.getMatchedGroups,d=a.processMatchedGroups,e=a.processTiming;b["default"]={use:function(a){function b(b,f){var g,h;switch(b){case"transition":g=b,h=f.routeName;break;case"action":g=f.actionName,h=f.actionName}var i=c(a.settings.mappings,f.routeName,b,h);if(a.settings.debug){var j="TRAP: '"+g+"' action",k="action"===b?" on '":" to '";f.oldRouteName&&(j+=" from '"+f.oldRouteName+"' route ("+f.oldUrl+")"),f.routeName&&(j+=k+f.routeName+"' route ("+f.url+")"),j+=i.length?". Matches:":". No matches!",Ember.debug(j)}var l=h;"transition"===b&&(l=l.replace(".index","")),e(a.settings,b,l),d(i,a.settings,b,f,l)}function f(c){if(!a.isActivated)return void this._super.apply(this,arguments);var d=this.container.lookup("controller:application"),e=d.get("currentRouteName");b("action",{actionName:c,actionArguments:[].slice.call(arguments,1),route:this.container.lookup("route:"+e),routeName:this.container.lookup("controller:application").get("currentRouteName"),url:this.container.lookup("router:main").get("url")}),this._super.apply(this,arguments)}function g(){if(!a.isActivated)return void this._super.apply(this,arguments);var c=this.container.lookup("controller:application"),d=c.get("currentRouteName"),e=d?this.get("url"):"";this._super.apply(this,arguments);var f=c.get("currentRouteName");Ember.run.scheduleOnce("routerTransitions",this,function(){var a=this.get("url")||"/";b("transition",{route:this.container.lookup("route:"+f),routeName:f,oldRouteName:d,url:a,oldUrl:e})})}Ember.ActionHandler.reopen({send:f}),Ember.Router.reopen({didTransition:g})}}}),define("optparse",["trackers/google","handler","handler-timing","exports"],function(a,b,c,d){"use strict";var e=a["default"],f=b["default"],g=c["default"];d["default"]={trackerOpts:function(a){return this.mergeTrackerOpts(a,a)},mergeTrackerOpts:function(a,b){var c,d;return a.trackerFun=a.trackerFun||b.trackerFun||"ga",d=typeof a.trackerFun,c="function"===d||"string"===d,Ember.assert("'trackerFun' should be either a function or string option",c),a.trackingNamespace=a.trackingNamespace||b.trackingNamespace||"",d=typeof a.trackingNamespace,c="string"===d,Ember.assert("'trackingNamespace' should be a string option",c),a.trackerFactory=a.trackerFactory||b.trackerFactory||e.factory,c="function"==typeof a.trackerFactory,Ember.assert("'trackerFactory' should be a function",c),a.tracker=a.trackerFactory(a),c="object"==typeof a.tracker,Ember.assert("Can't build tracker",c),a.trackTransitionsAs=a.trackTransitionsAs||b.trackTransitionsAs||"pageview",a},basicOpts:function(a){return"undefined"==typeof a.updateDocumentLocationOnTransitions&&(a.updateDocumentLocationOnTransitions=!0),a},handlerOpts:function(a){var b;return a.handler=a.handler||f.factory(a),b="function"==typeof a.handler,Ember.assert("'handler' should be a function",b),a},timingHandlerOpts:function(a){var b;return a.timingHandler=a.timingHandler||g.factory(a),b="function"==typeof a.timingHandler,Ember.assert("'timingHandler' should be a function",b),a},buildTimingsConfig:function(a,b){a.timingsConfig||(a.timingsConfig={});var c;c=b?b.timings:a.timings;var d=b&&b.timingHandler||a.timingHandler||g.factory(b||a),e=b&&b.tracker||a.tracker;return c&&c.forEach(function(b){var c=[b.start].concat(b.points||[]).concat([b.end]);c.forEach(function(c,f,g){if(0!==f){a.timingsConfig[c]||(a.timingsConfig[c]=[]);var h={timingHandler:d,tracker:e,prevPoints:g.slice(0,f).reverse()};if(b.title&&(h.chainTitle=b.title),a.timingsConfig[c].push(h),f===g.length-1&&g.length>2){var i={timingHandler:d,tracker:e,prevPoints:[g[0]]};b.title&&(i.chainTitle=b.title),a.timingsConfig[c].push(i)}}})}),a}}}),define("runtime",["optparse","trackers","exports"],function(a,b,c){"use strict";var d=a["default"],e=b.ConsoleTracker,f=b.GoogleTracker;c["default"]=function(a){var b,c={configure:function(c,e){return c=c||"default",e=e||{},b=e,d.basicOpts(e),d.trackerOpts(e),e.tracker.applyAppFields(),d.buildTimingsConfig(e),e.mappings=[],a.configs[c]=e,this},track:function(a){return Ember.assert("Can't find `insights` property inside",a.insights),delete a.fields,a.insights=Ember.Object.create(a.insights),d.mergeTrackerOpts(a,b),d.handlerOpts(a),d.buildTimingsConfig(b,a),b.mappings.push(a),this},start:function(b){return a.settings=a.configs[b],Ember.assert("can't find settings for '"+b+"' environment",a.settings),a.isActivated=!0,a.settings.tracker},stop:function(){a.isActivated=!1},ConsoleTracker:e,GoogleTracker:f};return c}}),define("trackers",["trackers/console","trackers/google","exports"],function(a,b,c){"use strict";var d=a["default"],e=b["default"];c.ConsoleTracker=d,c.GoogleTracker=e}),define("trackers/abstract-tracker",["../vendor/inheritance","exports"],function(a,b){"use strict";function c(a){Ember.warn("Tracker function '"+a+"' is not supported")}var d=a["default"],e=d.extend({isTracker:function(){c("isTracker()")},getTracker:function(){c("getTracker()")},set:function(){c("set(key, value)")},send:function(){c("send(fieldNameObj)")},sendEvent:function(){c("sendEvent(category, action, label, value)")},trackPageView:function(){c("trackPageView(path, fieldNameObj)")},applyAppFields:function(){c("applyAppFields()")}});b["default"]=e}),define("trackers/console",["trackers/abstract-tracker","exports"],function(a,b){"use strict";function c(a,b){var c="EmberInsights.ConsoleTracker.%@(%@)".fmt(a,b);Ember.Logger.log(c)}var d=a["default"];b["default"]={factory:function(){var a=d.extend({getTracker:function(){return c},set:function(a,b){c("set",[a,b])},send:function(a){c("send",[a])},sendEvent:function(a,b,d,e){c("sendEvent",[a,b,d,e])},trackPageView:function(a,b){c("trackPageView",["pageview",a,b])},applyAppFields:function(){c("applyAppFields")}});return new a}}}),define("trackers/google",["trackers/abstract-tracker","exports"],function(a,b){"use strict";function c(a,b){return b=b||window,"string"==typeof a&&(a=b[a]),a}function d(a){return function(b){return(a?a+".":"")+b}}function e(a,b,c){for(var d in c)a(b("set"),d,c[d])}var f=a["default"];b["default"]={factory:function(a){var b=c(a.trackerFun),g=d(a.trackingNamespace),h=f.extend({applyAppFields:function(){e(b,g,a.fields)},isTracker:function(){return b&&"function"==typeof b},getTracker:function(){return this.isTracker()||Ember.debug("Can't find in `window` a `"+a.trackerFun+"` function definition"),b},set:function(a,c){b(g("set"),a,c)},send:function(a){a=a||{},b(g("send"),a)},sendEvent:function(a,c,d,e){var f={hitType:"event",eventCategory:a,eventAction:c};null!=d&&(f.eventLabel=d,null!=e&&(f.eventValue=e)),b(g("send"),f)},trackPageView:function(a,c){if(c=c||{},!a){var d=window.location;a=d.hash?d.hash.substring(1):d.pathname+d.search}b(g("send"),"pageview",a,c)}});return new h},trackerFun:c,trackingNamespace:d,setFields:e}}),define("vendor/inheritance",["exports"],function(a){"use strict";var b=function(){var a=!1,b=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,c=function(){};return c.extend=function d(c){function e(){!a&&this.init&&this.init.apply(this,arguments)}var f=this.prototype;a=!0;var g=new this;a=!1;for(var h in c)g[h]="function"==typeof c[h]&&"function"==typeof f[h]&&b.test(c[h])?function(a,b){return function(){var c=this._super;this._super=f[a];var d=b.apply(this,arguments);return this._super=c,d}}(h,c[h]):c[h];return e.prototype=g,e.prototype.constructor=e,e.extend=d,e},c}();a["default"]=b})}({},function(){return this}());
